(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(n){this.activeClass=n.activeClass||"active",this.toggleEvent=n.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(n,e,t,l){var o=l[0],a=l[1];a.$render=function(){e.toggleClass(o.activeClass,angular.equals(a.$modelValue,n.$eval(t.btnRadio)))},e.bind(o.toggleEvent,function(){var l=e.hasClass(o.activeClass);l&&!angular.isDefined(t.uncheckable)||n.$apply(function(){a.$setViewValue(l?null:n.$eval(t.btnRadio)),a.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(n,e,t,l){function o(){return i(t.btnCheckboxTrue,!0)}function a(){return i(t.btnCheckboxFalse,!1)}function i(e,t){var l=n.$eval(e);return angular.isDefined(l)?l:t}var r=l[0],u=l[1];u.$render=function(){e.toggleClass(r.activeClass,angular.equals(u.$modelValue,o()))},e.bind(r.toggleEvent,function(){n.$apply(function(){u.$setViewValue(e.hasClass(r.activeClass)?a():o()),u.$render()})})}}});
},{}],2:[function(require,module,exports){
angular.module("templateCache",[]).run(["$templateCache",function(t){t.put("builder-summary-modal",'<div class="modal-backdrop"><div class="modal"><table class="u-full-width"><thead><tr><th>Option</th><th>Selection</th></tr></thead><tbody><tr><td>Swatch</td><td>{{selection.swatch}}</td></tr><tr><td>Arms</td><td>{{selection.arms}}</td></tr><tr><td>Base</td><td>{{selection.base}}</td></tr></tbody></table><form class="u-full-width u-cf"><div class="row"><div class="six columns"><label>Full Name</label><input type="url" ng-model="swatchUrl" placeholder="Enter URL" class="u-full-width"/></div><div class="six columns"><label>Email</label><input type="url" ng-model="swatchUrl" placeholder="test@mailbox.com" class="u-full-width"/></div></div><div class="row"><button ng-click="closeMe()" class="button-primary">Submit</button><button ng-click="closeMe()">Cancel</button></div></form></div></div>')}]);
},{}],3:[function(require,module,exports){
var templates=require("./templates.js");require("../../node_modules/angular-ui-bootstrap/src/buttons/buttons.js"),angular.module("allSeating",["btford.modal","templateCache","ui.bootstrap.buttons"]).constant("directoryConfig",{imageFiles:{cushionShading:"./assets/images/cushion-shading/",swatches:"./assets/images/swatches/"}}).constant("chairConfig",{hardware:[{type:"arms",displayName:"Arms",directory:"images/chair-hardware/arms/",options:[{displayName:"Arms 1",fileName:"arms-1.png"},{displayName:"Arms 2",fileName:"arms-2.png"},{displayName:"Arms 3",fileName:"arms-3.png"}]},{type:"bases",displayName:"Bases",directory:"images/chair-hardware/bases/",options:[{displayName:"Base 1",fileName:"base-1.png"},{displayName:"Base 2",fileName:"base-2.png"},{displayName:"Base 3",fileName:"base-3.png"}]}],swatches:[{displayName:"Azurean",fileName:"azurean.jpg"},{displayName:"Cayenne",fileName:"cayenne.jpg"},{displayName:"Galaxy",fileName:"galaxy.jpg"},{displayName:"Ginger",fileName:"ginger.jpg"},{displayName:"Pimento",fileName:"pimento.jpg"},{displayName:"Slate",fileName:"slate.jpg"},{displayName:"Walnut",fileName:"walnut.jpg"}],cushions:[{type:"backRestCushion",shadingFileName:"back-rest-cushion-shading.png",drawInstructions:{center:[359,201],centerGlobal:[360,360],moveTo:"254 321",bezierCurveTo:["254 321 228 129 230 102","232 77 274 86 306 88","338 90 398 89 431 83","463 77 476 84 482 89","482 89 489 95 487 120","485 145 471 312 468 319","468 319 377 312 254 321"]}},{type:"seatCushion",shadingFileName:"seat-cushion-shading.png",drawInstructions:{center:[359,360],centerGlobal:[360,360],moveTo:"255 322",bezierCurveTo:["255 322 323 310 465 319","485 320 492 329 496 340","499 348 501 366 498 376","496 385 444 403 394 405","325 408 281 403 236 392","236 392 221 389 217 378","213 367 220 346 222 341","224 337 230 325 255 322"]}}]}).constant("cushionOffset",{xOff:-108,yOff:8}).factory("myModal",["btfModal","$templateCache",function(e,a){return e({controller:["$scope","myModal",function(e,a){e.name="World",e.closeMe=function(){console.log(e),a.deactivate()}}],template:a.get("builder-summary-modal")})}]).directive("swatch",[function(){return{scope:{swatch:"=",scale:"="},link:function(e,a){var i=e.swatch.width*(e.scale||1);a[0].getContext("2d").drawImage(e.swatch,0,0,i,i)}}}]).controller("ChairBuilderCtrl",["$scope","chairConfig","myModal",function(e,a,i){function t(){}function n(e){this.stage=e,this.cushions={},this.hardware={}}t.prototype={assemble:function(e){var a=this,i=new Image,t="M"+e.drawInstructions.moveTo+"C";r.width/2/e.drawInstructions.center[0];return this.layer=new Kinetic.FastLayer,angular.forEach(e.drawInstructions.bezierCurveTo,function(e){t=t.concat(e+" ")}),t=t.concat("z"),this.cushionPath=new Kinetic.Path({visible:!1,offsetX:e.drawInstructions.center[0],offsetY:e.drawInstructions.center[1],x:r.width/2,y:e.drawInstructions.center[1],data:t}),this.layer.add(this.cushionPath).draw(),i.onload=function(){a.shading=new Kinetic.Image({visible:!1,offsetX:i.width/2,offsetY:i.height/2,x:r.width/2,y:e.drawInstructions.center[1],image:i}),a.layer.add(a.shading).draw()},i.src="images/cushion-shading/"+e.shadingFileName,this.layer},fillCushion:function(e){console.log(e),this.cushionPath.fillPatternImage(e.image).visible(!0),this.shading.visible(!0),this.layer.draw()}};var s={addCushions:function(e){angular.forEach(e,function(e){var a=new t;this.stage.add(a.assemble(e)),this.cushions[e.type]=a},this)},loadSwatch:function(e){angular.forEach(this.cushions,function(a){a.fillCushion(e)})},addHardware:function(e){angular.forEach(e,function(e){var a=new Kinetic.FastLayer;this.stage.add(a),this.hardware[e.type]=a},this)},changeHardware:function(e,a){var i=new Kinetic.Image({image:a.image,offsetX:a.image.width/2,offsetY:a.image.height/2,x:r.width/2,y:r.height/2});this.hardware[e].visible(!0).removeChildren().add(i),"bases"==e&&i.y(i.y()+163),this.hardware[e].draw()},init:function(e){this.addHardware(e.hardware),this.addCushions(e.cushions)}};n.prototype=s,e.selection={},e.showModal=function(){var a={};i.activate(a).then(function(){a.$scope.selection=e.selection})};var r={container:"chair-canvas",width:500,height:700},o=new Kinetic.Stage(r),c=new n(o);c.init({cushions:a.cushions,hardware:a.hardware}),e.activeChair=c,e.swatches=[],e.arms=[],e.bases=[],e.readout=function(a,i,t){a&&e.activeChair[i](t)};var l=function(a,i,t){return function(n){var s=new Image;s.onload=function(){e.$apply(function(){n.image=s,n.scale=t,n.imported=!i,a.push(n)})},s.src=(i||"").concat(n.fileName)}};e.loadSwatchUrl=function(a){l(e.swatches)({fileName:a})},e.removeSwatch=function(e){e.hide=!0},e.swatchUrl="";var d=function(e,a){e.forEach(function(e){a(e)})};d(a.swatches,l(e.swatches,"images/swatches/",.5)),d(a.hardware[0].options,l(e.arms,"images/chair-hardware/arms/",.3)),d(a.hardware[1].options,l(e.bases,"images/chair-hardware/bases/",.3))}]).directive("dragdrop",[function(){return{scope:{file:"=",fileName:"=",onFileDrop:"&"},restrict:"A",link:function(e,a,i,t){var n,s,r,o;r=function(e){return null!==e&&e.preventDefault(),e.dataTransfer.effectAllowed="copy",!1},o=i.fileDropzone,n=function(e){var a;return void 0===(a=i.maxFileSize)||""===a||e/1024/1024<i.maxFileSize||(alert("File must be smaller than "+i.maxFileSize+" MB"),!1)},s=function(e){return void 0===o||""===o||o.indexOf(e)>-1||(alert("Invalid file type.  File must be one of following types "+o),!1)},a.bind("dragover",r),a.bind("dragenter",r),a.bind("drop",function(a){var i,t,r,o,c;return null!==a&&a.preventDefault(),r=new FileReader,r.onload=function(a){if(n(o)&&s(c))return e.$apply(function(){if(e.file=a.target.result,e.onFileDrop()(e.file),angular.isString(e.fileName))return e.fileName=t,e.fileName})},i=a.dataTransfer.files[0],t=i.name,c=i.type,o=i.size,r.readAsDataURL(i),!1})}}}]);
},{"../../node_modules/angular-ui-bootstrap/src/buttons/buttons.js":1,"./templates.js":2}]},{},[3])

